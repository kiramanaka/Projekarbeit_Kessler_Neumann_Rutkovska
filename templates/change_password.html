{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Change Password{% endblock %}</h1>
{% endblock %}

{% block content %}
<form method="post" class="needs-validation" novalidate>
    {{ form.hidden_tag() }}
    <div class="mb-3">
        <label for="password" class="form-label">Neues Passwort</label>
        {{ form.password(class="form-control", id="password", oninput="checkPasswordMatch()") }}
        <div class="invalid-feedback">
            Please enter a new password.
        </div>
    </div>
    <div class="mb-3">
        <label for="password2" class="form-label">Passwort wiederholen</label>
        {{ form.password2(class="form-control", id="password2", oninput="checkPasswordMatch()") }}
        <div class="invalid-feedback">
            Please repeat the password.
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Passwort Ã¤ndern</button>
</form>

<script>
    function checkPasswordMatch() {
        const password = document.getElementById('password').value;
        const password2 = document.getElementById('password2').value;
        const password2Input = document.getElementById('password2');
        if (password !== password2) {
            password2Input.setCustomValidity('Passwords do not match');
        } else {
            password2Input.setCustomValidity('');
        }
    }
</script>
{% endblock %}